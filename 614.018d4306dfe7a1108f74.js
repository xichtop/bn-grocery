"use strict";var Dt=Object.defineProperty,Nt=(y,p,c)=>p in y?Dt(y,p,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[p]=c,a=(y,p,c)=>(Nt(y,"symbol"!=typeof p?p+"":p,c),c);(self.webpackChunkgrocery=self.webpackChunkgrocery||[]).push([[614],{9614:(y,p,c)=>{c.r(p),c.d(p,{ProductModule:()=>A});var b=c(8583),$=c(5816),T=c(2238),t=c(7716),v=c(1095);const F=class{constructor(e,o){a(this,"dialogRef"),a(this,"data"),this.dialogRef=e,this.data=o}ngOnInit(){}onSubmit(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}};let E=F;a(E,"\u0275fac",function(o){return new(o||F)(t.Y36(T.so),t.Y36(T.WI))}),a(E,"\u0275cmp",t.Xpm({type:F,selectors:[["app-confirm"]],decls:10,vars:2,consts:[[1,"confirm"],[1,"confirm-title"],[1,"confirm-content"],[1,"confirm-button"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"button",4),t.NdJ("click",function(){return r.onSubmit()}),t._uU(7,"X\xe1c nh\u1eadn"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return r.onCancel()}),t._uU(9,"H\u1ee7y"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Oqu(r.data.title),t.xp6(2),t.Oqu(r.data.content))},directives:[v.lW],styles:[".confirm[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.confirm-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:20px}.confirm-content[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}.confirm-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}"]}));var i=c(3679);const Q=[{value:"Bia",label:"Bia"},{value:"Thu\u1ed1c l\xe1",label:"Thu\u1ed1c l\xe1"},{value:"B\xe1nh k\u1eb9o",label:"B\xe1nh k\u1eb9o"},{value:"N\u01b0\u1edbc ng\u1ecdt",label:"N\u01b0\u1edbc ng\u1ecdt"},{value:"S\u1eefa",label:"S\u1eefa"},{value:"Gia v\u1ecb",label:"Gia v\u1ecb"},{value:"Nhu y\u1ebfu ph\u1ea9m",label:"Nhu y\u1ebfu ph\u1ea9m"},{value:"Kh\xe1c",label:"Kh\xe1c"}],I=[{value:"Lon",label:"Lon",category:"Bia"},{value:"Th\xf9ng",label:"Th\xf9ng",category:"Bia"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"Bia"},{value:"Lon",label:"Lon",category:"N\u01b0\u1edbc ng\u1ecdt"},{value:"Chai",label:"Chai",category:"N\u01b0\u1edbc ng\u1ecdt"},{value:"L\u1ed1c",label:"L\u1ed1c",category:"N\u01b0\u1edbc ng\u1ecdt"},{value:"Th\xf9ng",label:"Th\xf9ng",category:"N\u01b0\u1edbc ng\u1ecdt"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"N\u01b0\u1edbc ng\u1ecdt"},{value:"B\u1ecbch",label:"B\u1ecbch",category:"B\xe1nh k\u1eb9o"},{value:"G\xf3i",label:"G\xf3i",category:"B\xe1nh k\u1eb9o"},{value:"H\u1ed9p",label:"H\u1ed9p",category:"B\xe1nh k\u1eb9o"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"B\xe1nh k\u1eb9o"},{value:"G\xf3i",label:"G\xf3i",category:"Thu\u1ed1c l\xe1"},{value:"C\xe2y",label:"C\xe2y",category:"Thu\u1ed1c l\xe1"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"Thu\u1ed1c l\xe1"},{value:"H\u1ed9p",label:"H\u1ed9p",category:"S\u1eefa"},{value:"L\u1ed1c",label:"L\u1ed1c",category:"S\u1eefa"},{value:"Th\xf9ng",label:"Th\xf9ng",category:"S\u1eefa"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"S\u1eefa"},{value:"Chai",label:"Chai",category:"Gia v\u1ecb"},{value:"G\xf3i",label:"G\xf3i",category:"Gia v\u1ecb"},{value:"\u1ed0ng",label:"\u1ed0ng",category:"Gia v\u1ecb"},{value:"B\xecnh",label:"B\xecnh",category:"Gia v\u1ecb"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"Gia v\u1ecb"},{value:"Chai",label:"Chai",category:"Nhu y\u1ebfu ph\u1ea9m"},{value:"G\xf3i",label:"G\xf3i",category:"Nhu y\u1ebfu ph\u1ea9m"},{value:"C\xe1i",label:"C\xe1i",category:"Nhu y\u1ebfu ph\u1ea9m"},{value:"H\u1ed9p",label:"H\u1ed9p",category:"Nhu y\u1ebfu ph\u1ea9m"},{value:"Qu\u1ea3",label:"Qu\u1ea3",category:"Nhu y\u1ebfu ph\u1ea9m"},{value:"Chi\u1ebfc",label:"Chi\u1ebfc",category:"Nhu y\u1ebfu ph\u1ea9m"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"Nhu y\u1ebfu ph\u1ea9m"},{value:"Chai",label:"Chai",category:"Kh\xe1c"},{value:"G\xf3i",label:"G\xf3i",category:"Kh\xe1c"},{value:"C\xe1i",label:"C\xe1i",category:"Kh\xe1c"},{value:"H\u1ed9p",label:"H\u1ed9p",category:"Kh\xe1c"},{value:"Qu\u1ea3",label:"Qu\u1ea3",category:"Kh\xe1c"},{value:"Chi\u1ebfc",label:"Chi\u1ebfc",category:"Kh\xe1c"},{value:"Kh\xe1c",label:"Kh\xe1c",category:"Kh\xe1c"}];var U=c(9765),B=c(6782),k=c(2825),C=c(5987),Y=c(8609),_=c(8295),w=c(9983),G=c(7441),K=c(2458);function j(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function R(n,e){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o.value),t.xp6(1),t.hij(" ",o.label," ")}}function z(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Danh m\u1ee5c kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function L(n,e){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o.value),t.xp6(1),t.hij(" ",o.label," ")}}function X(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"\u0110\u01a1n v\u1ecb kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function V(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function W(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"S\u1ed1 l\u01b0\u1ee3ng ph\u1ea3i l\u1edbn h\u01a1n 1"),t.qZA())}function tt(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),t.qZA())}function et(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Gi\xe1 ph\u1ea3i l\u1edbn h\u01a1n 500 "),t.qZA())}const q=class{constructor(e,o,r,u,l){a(this,"afs"),a(this,"dialog"),a(this,"router"),a(this,"route"),a(this,"notifierService"),a(this,"destroy$",new U.xQ),a(this,"productsCollection"),a(this,"productForm",new i.cw({name:new i.NI("",i.kI.required),category:new i.NI("",i.kI.required),unit:new i.NI({value:"",disabled:!0},i.kI.required),number:new i.NI(1,i.kI.compose([i.kI.required,i.kI.min(1)])),price:new i.NI(1e4,i.kI.compose([i.kI.required,i.kI.min(500)]))})),a(this,"categories",Q),a(this,"units",I),this.afs=e,this.dialog=o,this.router=r,this.route=u,this.notifierService=l,this.productsCollection=this.afs.collection("products")}ngOnInit(){this.productForm.get("category").valueChanges.pipe((0,B.R)(this.destroy$)).subscribe(e=>{""!==e?(this.units=I.filter(o=>o.category===e),this.productForm.get("unit").enable(),this.productForm.get("unit").setValue("")):this.productForm.get("unit").disable()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){this.dialog.open(E,{data:{title:"Th\xeam s\u1ea3n ph\u1ea9m m\u1edbi!",content:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n th\xeam s\u1ea3n ph\u1ea9m n\xe0y hay kh\xf4ng?"}}).afterClosed().subscribe(o=>{if(o)try{this.productsCollection.add(this.productForm.value),this.notifierService.notify("success","Th\xeam s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!"),this.router.navigate(["../list"],{relativeTo:this.route})}catch(r){console.log(r),this.notifierService.notify("error","Th\xeam s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i! Vui l\xf2ng th\u1eed l\u1ea1i sau.")}})}onCancel(){this.router.navigate(["../list"],{relativeTo:this.route})}};let P=q;a(P,"\u0275fac",function(o){return new(o||q)(t.Y36(k.ST),t.Y36(T.uw),t.Y36(C.F0),t.Y36(C.gz),t.Y36(Y.lG))}),a(P,"\u0275cmp",t.Xpm({type:q,selectors:[["app-add-product"]],decls:32,vars:11,consts:[[1,"product-title"],[1,"add-product",3,"formGroup","ngSubmit"],[1,"add-product-item"],["type","text","matInput","","placeholder","T\xean s\u1ea3n ph\u1ea9m","formControlName","name","required",""],[4,"ngIf"],["formControlName","category","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","unit","required",""],["type","number","matInput","","placeholder","S\u1ed1 l\u01b0\u1ee3ng","formControlName","number","required",""],["type","number","matInput","","placeholder","Gi\xe1","formControlName","price","required",""],[1,"add-product-button"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(o,r){if(1&o&&(t.TgZ(0,"section"),t.TgZ(1,"h3",0),t._uU(2,"Th\xeam S\u1ea3n Ph\u1ea9m M\u1edbi"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(4,"mat-form-field",2),t._UZ(5,"input",3),t.YNc(6,j,2,0,"mat-error",4),t.qZA(),t.TgZ(7,"mat-form-field",2),t.TgZ(8,"mat-label"),t._uU(9,"Danh m\u1ee5c"),t.qZA(),t.TgZ(10,"mat-select",5),t.YNc(11,R,2,2,"mat-option",6),t.qZA(),t.YNc(12,z,2,0,"mat-error",4),t.qZA(),t.TgZ(13,"mat-form-field",2),t.TgZ(14,"mat-label"),t._uU(15,"\u0110\u01a1n v\u1ecb"),t.qZA(),t.TgZ(16,"mat-select",7),t.YNc(17,L,2,2,"mat-option",6),t.qZA(),t.YNc(18,X,2,0,"mat-error",4),t.qZA(),t.TgZ(19,"mat-form-field",2),t._UZ(20,"input",8),t.YNc(21,V,2,0,"mat-error",4),t.YNc(22,W,2,0,"mat-error",4),t.qZA(),t.TgZ(23,"mat-form-field",2),t._UZ(24,"input",9),t.YNc(25,tt,2,0,"mat-error",4),t.YNc(26,et,2,0,"mat-error",4),t.qZA(),t.TgZ(27,"div",10),t.TgZ(28,"button",11),t._uU(29,"Th\xeam s\u1ea3n ph\u1ea9m"),t.qZA(),t.TgZ(30,"button",12),t.NdJ("click",function(){return r.onCancel()}),t._uU(31,"H\u1ee7y"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){let u,l,m,s,g,h,f;t.xp6(3),t.Q6J("formGroup",r.productForm),t.xp6(3),t.Q6J("ngIf",(null==(u=r.productForm.get("name"))?null:u.errors)&&(null==(u=r.productForm.get("name"))?null:u.hasError("required"))),t.xp6(5),t.Q6J("ngForOf",r.categories),t.xp6(1),t.Q6J("ngIf",(null==(l=r.productForm.get("category"))?null:l.errors)&&(null==(l=r.productForm.get("category"))?null:l.hasError("required"))),t.xp6(5),t.Q6J("ngForOf",r.units),t.xp6(1),t.Q6J("ngIf",(null==(m=r.productForm.get("unit"))?null:m.errors)&&(null==(m=r.productForm.get("unit"))?null:m.hasError("required"))),t.xp6(3),t.Q6J("ngIf",(null==(s=r.productForm.get("number"))?null:s.errors)&&(null==(s=r.productForm.get("number"))?null:s.hasError("required"))),t.xp6(1),t.Q6J("ngIf",(null==(g=r.productForm.get("number"))?null:g.errors)&&(null==(g=r.productForm.get("number"))?null:g.hasError("min"))),t.xp6(3),t.Q6J("ngIf",(null==(h=r.productForm.get("price"))?null:h.errors)&&(null==(h=r.productForm.get("price"))?null:h.hasError("required"))),t.xp6(1),t.Q6J("ngIf",(null==(f=r.productForm.get("price"))?null:f.errors)&&(null==(f=r.productForm.get("price"))?null:f.hasError("min"))),t.xp6(2),t.Q6J("disabled",!r.productForm.valid)}},directives:[i._Y,i.JL,i.sg,_.KE,w.Nt,i.Fj,i.JJ,i.u,i.Q7,b.O5,_.hX,G.gD,b.sg,i.wV,v.lW,_.TO,K.ey],styles:[".product-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.add-product[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.add-product-item[_ngcontent-%COMP%]{width:30%}@media only screen and (max-width: 600px){.add-product-item[_ngcontent-%COMP%]{width:90%}}@media only screen and (max-width: 1024px){.add-product-item[_ngcontent-%COMP%]{width:90%}}.add-product-button[_ngcontent-%COMP%]{padding-top:20px}.add-product-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}"]}));var d=c(2789),H=c(4457),J=c(1494),nt=c(6906),ot=c(1552);function rt(n,e){1&n&&(t.TgZ(0,"th",21),t._uU(1," T\xean s\u1ea3n ph\u1ea9m "),t.qZA())}function at(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function it(n,e){1&n&&(t.TgZ(0,"th",23),t._uU(1," Danh m\u1ee5c "),t.qZA())}function ut(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.hij(" ",o.category," ")}}function ct(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1," \u0110\u01a1n v\u1ecb "),t.qZA())}function lt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.hij(" ",o.unit," ")}}function mt(n,e){1&n&&(t.TgZ(0,"th",25),t._uU(1," S\u1ed1 l\u01b0\u1ee3ng "),t.qZA())}function dt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.hij(" ",o.number," ")}}function st(n,e){1&n&&(t.TgZ(0,"th",26),t._uU(1," Gi\xe1 "),t.qZA())}function pt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,o.price,"VND","")," \u0111")}}function gt(n,e){1&n&&(t.TgZ(0,"th",27),t._uU(1," H\xe0nh \u0110\u1ed9ng "),t.qZA())}function ht(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"td",28),t.TgZ(1,"button",29),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw().onEditProduct(l.id)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"button",30),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw().onDeleteProduct(l.id)}),t.TgZ(5,"mat-icon"),t._uU(6,"delete"),t.qZA(),t.qZA(),t.qZA()}}function ft(n,e){1&n&&t._UZ(0,"tr",31)}function _t(n,e){1&n&&t._UZ(0,"tr",32)}function bt(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){return t.CHM(o),t.oxw().onAddProduct()}),t._uU(1," Th\xeam s\u1ea3n ph\u1ea9m "),t.qZA()}}const Ct=function(){return[5,10,15]},D=class{constructor(e,o,r,u,l,m){a(this,"afs"),a(this,"authService"),a(this,"router"),a(this,"route"),a(this,"dialog"),a(this,"notifierService"),a(this,"productsCollection"),a(this,"products",[]),a(this,"isAuth",!1),a(this,"columnsToDisplay"),a(this,"dataSource",new d.by),a(this,"paginator"),a(this,"sort"),a(this,"destroy$",new U.xQ),this.afs=e,this.authService=o,this.router=r,this.route=u,this.dialog=l,this.notifierService=m,this.productsCollection=this.afs.collection("products"),this.productsCollection.valueChanges({idField:"id"}).pipe((0,B.R)(this.destroy$)).subscribe(s=>{this.products=s,this.dataSource.data=this.products})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.isAuth=this.authService.isAuth(),this.columnsToDisplay=this.isAuth?["name","category","unit","number","price","action"]:["name","category","unit","number","price"]}doFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}onEditProduct(e){this.router.navigate(["../edit/"+e],{relativeTo:this.route})}onDeleteProduct(e){this.dialog.open(E,{data:{title:"X\xf3a s\u1ea3n ph\u1ea9m!",content:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a s\u1ea3n ph\u1ea9m n\xe0y hay kh\xf4ng?"}}).afterClosed().subscribe(r=>{if(r)try{this.afs.doc(`products/${e}`).delete(),this.notifierService.notify("success","X\xf3a s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!")}catch(u){console.log(u),this.notifierService.notify("error","X\xf3a s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i! Vui l\xf2ng th\u1eed l\u1ea1i sau.")}})}onAddProduct(){this.router.navigate(["../add"],{relativeTo:this.route})}};let x=D;function yt(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"T\xean s\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function Et(n,e){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o.value),t.xp6(1),t.hij(" ",o.label," ")}}function Tt(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Danh m\u1ee5c kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function Zt(n,e){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o.value),t.xp6(1),t.hij(" ",o.label," ")}}function At(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"\u0110\u01a1n v\u1ecb kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function vt(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng"),t.qZA())}function Pt(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"S\u1ed1 l\u01b0\u1ee3ng ph\u1ea3i l\u1edbn h\u01a1n 1"),t.qZA())}function xt(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng "),t.qZA())}function Ot(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Gi\xe1 ph\u1ea3i l\u1edbn h\u01a1n 500 "),t.qZA())}a(x,"\u0275fac",function(o){return new(o||D)(t.Y36(k.ST),t.Y36(nt.e),t.Y36(C.F0),t.Y36(C.gz),t.Y36(T.uw),t.Y36(Y.lG))}),a(x,"\u0275cmp",t.Xpm({type:D,selectors:[["app-product"]],viewQuery:function(o,r){if(1&o&&(t.Gf(H.NW,5),t.Gf(J.YE,5)),2&o){let u;t.iGM(u=t.CRH())&&(r.paginator=u.first),t.iGM(u=t.CRH())&&(r.sort=u.first)}},decls:30,vars:6,consts:[[1,"table-container"],["matInput","","type","text",3,"keyup"],["mat-table","","matSort","",1,"table-container-content",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by category",4,"matHeaderCellDef"],["matColumnDef","unit"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by unit",4,"matHeaderCellDef"],["matColumnDef","number"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["matColumnDef","price"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by price",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","table-container-content-action",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic products",3,"pageSizeOptions"],["class","table-container-button","mat-raised-button","","aria-label","Button add","color","primary",3,"click",4,"ngIf"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by category"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by unit"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by price"],["mat-header-cell",""],["mat-cell","",1,"table-container-content-action"],["mat-icon-button","","aria-label","Button remove","color","primary",3,"click"],["mat-icon-button","","aria-label","Button fix","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["mat-raised-button","","aria-label","Button add","color","primary",1,"table-container-button",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h3"),t._uU(2,"Danh S\xe1ch S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(3,"mat-form-field"),t.TgZ(4,"mat-label"),t._uU(5,"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m"),t.qZA(),t.TgZ(6,"input",1),t.NdJ("keyup",function(l){return r.doFilter(l)}),t.qZA(),t.qZA(),t.TgZ(7,"table",2),t.ynx(8,3),t.YNc(9,rt,2,0,"th",4),t.YNc(10,at,2,1,"td",5),t.BQk(),t.ynx(11,6),t.YNc(12,it,2,0,"th",7),t.YNc(13,ut,2,1,"td",5),t.BQk(),t.ynx(14,8),t.YNc(15,ct,2,0,"th",9),t.YNc(16,lt,2,1,"td",5),t.BQk(),t.ynx(17,10),t.YNc(18,mt,2,0,"th",11),t.YNc(19,dt,2,1,"td",5),t.BQk(),t.ynx(20,12),t.YNc(21,st,2,0,"th",13),t.YNc(22,pt,3,5,"td",5),t.BQk(),t.ynx(23,14),t.YNc(24,gt,2,0,"th",15),t.YNc(25,ht,7,0,"td",16),t.BQk(),t.YNc(26,ft,1,0,"tr",17),t.YNc(27,_t,1,0,"tr",18),t.qZA(),t._UZ(28,"mat-paginator",19),t.YNc(29,bt,2,0,"button",20),t.qZA()),2&o&&(t.xp6(7),t.Q6J("dataSource",r.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",r.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",r.columnsToDisplay),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,Ct)),t.xp6(1),t.Q6J("ngIf",r.isAuth))},directives:[_.KE,_.hX,w.Nt,d.BZ,J.YE,d.w1,d.fO,d.Dz,d.as,d.nj,H.NW,b.O5,d.ge,J.nU,d.ev,v.lW,ot.Hw,d.XQ,d.Gk],pipes:[b.H9],styles:[".table-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80%}@media only screen and (max-width: 600px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:96%}}@media only screen and (max-width: 1024px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:96%}}.table-container-content-action[_ngcontent-%COMP%]{display:flex;padding-bottom:10px}.table-container-content-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}@media only screen and (max-width: 600px){.table-container-content-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px}}@media only screen and (max-width: 1024px){.table-container-content-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:12px}}.table-container-button[_ngcontent-%COMP%]{margin-top:20px}@media only screen and (max-width: 600px){.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px}.table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, .table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, .table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:10px}}@media only screen and (max-width: 1024px){.table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px}.table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, .table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:0}.table-container[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, .table-container[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:10px}}.mat-column-select[_ngcontent-%COMP%]{overflow:initial}"]}));const N=class{constructor(e,o,r,u,l){a(this,"router"),a(this,"route"),a(this,"afs"),a(this,"dialog"),a(this,"notifierService"),a(this,"destroy$",new U.xQ),a(this,"productId","1"),a(this,"productForm",new i.cw({name:new i.NI("",i.kI.required),category:new i.NI({value:"",disabled:!0},i.kI.required),unit:new i.NI({value:"",disabled:!0},i.kI.required),number:new i.NI(1,i.kI.compose([i.kI.required,i.kI.min(1)])),price:new i.NI(1e4,i.kI.compose([i.kI.required,i.kI.min(500)]))})),a(this,"categories",Q),a(this,"units",I),a(this,"productDocument"),this.router=e,this.route=o,this.afs=r,this.dialog=u,this.notifierService=l}ngOnInit(){this.route.params.subscribe(e=>{this.productId=e.id}),this.productDocument=this.afs.doc(`products/${this.productId}`),this.productDocument.valueChanges({idField:"id"}).pipe((0,B.R)(this.destroy$)).subscribe(e=>{this.productForm.patchValue(e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){this.dialog.open(E,{data:{title:"S\u1eeda s\u1ea3n ph\u1ea9m!",content:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n s\u1eeda s\u1ea3n ph\u1ea9m n\xe0y hay kh\xf4ng?"}}).afterClosed().subscribe(o=>{if(o)try{this.productDocument.update(this.productForm.value),this.notifierService.notify("success","S\u1eeda s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng!"),this.router.navigate(["../../list"],{relativeTo:this.route})}catch(r){console.log(r),this.notifierService.notify("error","S\u1eeda s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i! Vui l\xf2ng th\u1eed l\u1ea1i sau.")}})}onCancel(){this.router.navigate(["../../list"],{relativeTo:this.route})}};let O=N;a(O,"\u0275fac",function(o){return new(o||N)(t.Y36(C.F0),t.Y36(C.gz),t.Y36(k.ST),t.Y36(T.uw),t.Y36(Y.lG))}),a(O,"\u0275cmp",t.Xpm({type:N,selectors:[["app-edit-product"]],decls:32,vars:11,consts:[[1,"product-title"],[1,"add-product",3,"formGroup","ngSubmit"],[1,"add-product-item"],["type","text","matInput","","placeholder","T\xean s\u1ea3n ph\u1ea9m","formControlName","name","required",""],[4,"ngIf"],["formControlName","category","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","unit","required",""],["type","number","matInput","","placeholder","S\u1ed1 l\u01b0\u1ee3ng","formControlName","number","required",""],["type","number","matInput","","placeholder","Gi\xe1","formControlName","price","required",""],[1,"add-product-button"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(o,r){if(1&o&&(t.TgZ(0,"section"),t.TgZ(1,"h3",0),t._uU(2,"S\u1eeda S\u1ea3n Ph\u1ea9m"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(4,"mat-form-field",2),t._UZ(5,"input",3),t.YNc(6,yt,2,0,"mat-error",4),t.qZA(),t.TgZ(7,"mat-form-field",2),t.TgZ(8,"mat-label"),t._uU(9,"Danh m\u1ee5c"),t.qZA(),t.TgZ(10,"mat-select",5),t.YNc(11,Et,2,2,"mat-option",6),t.qZA(),t.YNc(12,Tt,2,0,"mat-error",4),t.qZA(),t.TgZ(13,"mat-form-field",2),t.TgZ(14,"mat-label"),t._uU(15,"\u0110\u01a1n v\u1ecb"),t.qZA(),t.TgZ(16,"mat-select",7),t.YNc(17,Zt,2,2,"mat-option",6),t.qZA(),t.YNc(18,At,2,0,"mat-error",4),t.qZA(),t.TgZ(19,"mat-form-field",2),t._UZ(20,"input",8),t.YNc(21,vt,2,0,"mat-error",4),t.YNc(22,Pt,2,0,"mat-error",4),t.qZA(),t.TgZ(23,"mat-form-field",2),t._UZ(24,"input",9),t.YNc(25,xt,2,0,"mat-error",4),t.YNc(26,Ot,2,0,"mat-error",4),t.qZA(),t.TgZ(27,"div",10),t.TgZ(28,"button",11),t._uU(29,"S\u1eeda s\u1ea3n ph\u1ea9m"),t.qZA(),t.TgZ(30,"button",12),t.NdJ("click",function(){return r.onCancel()}),t._uU(31,"H\u1ee7y"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){let u,l,m,s,g,h,f;t.xp6(3),t.Q6J("formGroup",r.productForm),t.xp6(3),t.Q6J("ngIf",(null==(u=r.productForm.get("name"))?null:u.errors)&&(null==(u=r.productForm.get("name"))?null:u.hasError("required"))),t.xp6(5),t.Q6J("ngForOf",r.categories),t.xp6(1),t.Q6J("ngIf",(null==(l=r.productForm.get("category"))?null:l.errors)&&(null==(l=r.productForm.get("category"))?null:l.hasError("required"))),t.xp6(5),t.Q6J("ngForOf",r.units),t.xp6(1),t.Q6J("ngIf",(null==(m=r.productForm.get("unit"))?null:m.errors)&&(null==(m=r.productForm.get("unit"))?null:m.hasError("required"))),t.xp6(3),t.Q6J("ngIf",(null==(s=r.productForm.get("number"))?null:s.errors)&&(null==(s=r.productForm.get("number"))?null:s.hasError("required"))),t.xp6(1),t.Q6J("ngIf",(null==(g=r.productForm.get("number"))?null:g.errors)&&(null==(g=r.productForm.get("number"))?null:g.hasError("min"))),t.xp6(3),t.Q6J("ngIf",(null==(h=r.productForm.get("price"))?null:h.errors)&&(null==(h=r.productForm.get("price"))?null:h.hasError("required"))),t.xp6(1),t.Q6J("ngIf",(null==(f=r.productForm.get("price"))?null:f.errors)&&(null==(f=r.productForm.get("price"))?null:f.hasError("min"))),t.xp6(2),t.Q6J("disabled",!r.productForm.valid)}},directives:[i._Y,i.JL,i.sg,_.KE,w.Nt,i.Fj,i.JJ,i.u,i.Q7,b.O5,_.hX,G.gD,b.sg,i.wV,v.lW,_.TO,K.ey],styles:[".product-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.add-product[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.add-product-item[_ngcontent-%COMP%]{width:30%}@media only screen and (max-width: 600px){.add-product-item[_ngcontent-%COMP%]{width:90%}}@media only screen and (max-width: 1024px){.add-product-item[_ngcontent-%COMP%]{width:90%}}.add-product-button[_ngcontent-%COMP%]{padding-top:20px}.add-product-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}"]}));const Ft=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:x},{path:"add",component:P},{path:"edit/:id",component:O},{path:"**",component:$.r}],M=class{};let Z=M;a(Z,"\u0275fac",function(o){return new(o||M)}),a(Z,"\u0275mod",t.oAB({type:M})),a(Z,"\u0275inj",t.cJS({imports:[[C.Bz.forChild(Ft)]]}));var qt=c(7545);const S=class{};let A=S;a(A,"\u0275fac",function(o){return new(o||S)}),a(A,"\u0275mod",t.oAB({type:S})),a(A,"\u0275inj",t.cJS({imports:[[b.ez,i.u5,i.UX,qt.m,Z]]}))}}]);